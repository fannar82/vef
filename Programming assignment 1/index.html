<!DOCTYPE html>
<!-- (c) Fannar Már Sigurðsson & Finnbjörn Þorvaldsson -->
<!-- Háskólinn í Reykjavík -->
<!-- WEPO, vor 2013-->
<!-- Programming assignment 1 -->
<html>
<head>

</head>
<body>

<p>Starts here</p>

<canvas id="drawing-board" width="1000px" height="1000px">
	<p>
		Your browser does not support this. Please update your browser and enter 2013.
	</p>
</canvas>

<p>Ends here</p>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script type="text/javascript">
	var canvas = document.getElementById("drawing-board");
	//var canvas = $("#drawing-board");
	var context = canvas.getContext("2d");

	var x;
	var y;

	$(canvas).mousedown( function(e) {
		// "offsetX/offsetY" works in Chrome and Opera
		x = e.offsetX; //e.pageX - this.offsetLeft;
		y = e.offsetY; //e.pageY - this.offsetTop;
	});

	$(canvas).mouseup( function(e) {
		context.fillStyle = "blue";

		dx = e.offsetX; //x; //pageX - this.offsetLeft;
		dy = e.offsetY; //_y; //e.pageY - this.offsetTop;

		console.log('dx = ' + dx);
		console.log('dy = ' + dy);

		context.fillRect(x, y, dx, dy);
	})

	// This brilliant code-stub was borrowed from this site:
	// http://dev.opera.com/articles/view/html5-canvas-painting/#implementingevents
	// We did not see a reason to change this code since it's
	// short, simple and concise.
	function ev_canvas (e) {
	  if (e.layerX || e.layerX == 0) { // Firefox
	    e._x = e.layerX;
	    e._y = e.layerY;
	  } else if (e.offsetX || e.offsetX == 0) { // Opera & Chrome
	    e._x = e.offsetX;
	    e._y = e.offsetY;
	  }
	}
</script>

</body>
</html>